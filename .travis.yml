dist: jammy

language: c

env:
- PG_VER=16
- PG_VER=15
- PG_VER=14
- PG_VER=13
- PG_VER=12
- PG_VER=11
- PG_VER=10
- PG_VER=9.6
- PG_VER=9.5
- PG_VER=9.4

jobs:
  allow_failures:
    - env: PG_VER=12
    - env: PG_VER=11
    - env: PG_VER=10
    - env: PG_VER=9.6
    - env: PG_VER=9.5
    - env: PG_VER=9.4

before_script:
  - sudo apt-get -y install -qq wget ca-certificates
  - travis/dep-ubuntu-postgres.sh
  - sudo apt-get update
  - sudo apt-get install -y --no-install-recommends postgresql-client-${PG_VER} postgresql-${PG_VER} postgresql-server-dev-${PG_VER}
  - sudo systemctl stop postgresql

script: travis/pg-travis-test.sh
